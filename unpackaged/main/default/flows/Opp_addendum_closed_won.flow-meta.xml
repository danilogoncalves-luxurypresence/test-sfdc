<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Billing_notification_Addendum_closed_won</name>
        <label>Billing notification - Addendum closed won</label>
        <locationX>578</locationX>
        <locationY>1008</locationY>
        <actionName>emailSimple</actionName>
        <actionType>emailSimple</actionType>
        <connector>
            <targetReference>Check_if_Renewal_Data_should_be_updated</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>emailBody</name>
            <value>
                <elementReference>bodyAddendumClosedWon</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailAddresses</name>
            <value>
                <stringValue>billing@luxurypresence.com</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailSubject</name>
            <value>
                <elementReference>forSubjectClosedWon</elementReference>
            </value>
        </inputParameters>
        <nameSegment>emailSimple</nameSegment>
        <offset>0</offset>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Billing_notification_Addendum_closed_won_Extension</name>
        <label>Billing notification - Addendum closed won - Extension</label>
        <locationX>1986</locationX>
        <locationY>492</locationY>
        <actionName>emailSimple</actionName>
        <actionType>emailSimple</actionType>
        <connector>
            <targetReference>Update_Subscription_Start_Date</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>emailAddresses</name>
            <value>
                <stringValue>billing@luxurypresence.com</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailSubject</name>
            <value>
                <elementReference>forSubjectClosedWon</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailBody</name>
            <value>
                <elementReference>bodyAddendumCloseWonExtension</elementReference>
            </value>
        </inputParameters>
        <nameSegment>emailSimple</nameSegment>
        <offset>0</offset>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Cancellation_alert_service_owners</name>
        <label>Cancellation alert - service owners</label>
        <locationX>1810</locationX>
        <locationY>600</locationY>
        <actionName>emailSimple</actionName>
        <actionType>emailSimple</actionType>
        <connector>
            <targetReference>Each_service_cancellation</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>emailBody</name>
            <value>
                <elementReference>bodyCancellationEmail</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailAddresses</name>
            <value>
                <elementReference>Each_service_cancellation.Owner:User.Email</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailSubject</name>
            <value>
                <elementReference>forSubject</elementReference>
            </value>
        </inputParameters>
        <nameSegment>emailSimple</nameSegment>
        <offset>0</offset>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <description>Notification of new template change to Danica and Danilen</description>
        <name>Notification_New_Template</name>
        <label>Notification - New Template</label>
        <locationX>578</locationX>
        <locationY>2340</locationY>
        <actionName>customNotificationAction</actionName>
        <actionType>customNotificationAction</actionType>
        <connector>
            <targetReference>Template_change</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>customNotifTypeId</name>
            <value>
                <elementReference>$Label.ID_Notification_Opportunity</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>body</name>
            <value>
                <stringValue>The service {!Service_Originated_from.Name} has new template change, please review it</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>title</name>
            <value>
                <stringValue>New Template Change</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>recipientIds</name>
            <value>
                <elementReference>varUsers</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>targetId</name>
            <value>
                <elementReference>Service_Originated_from.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>customNotificationAction</nameSegment>
        <offset>0</offset>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <apiVersion>54.0</apiVersion>
    <assignments>
        <description>Add Danica and Danilen users to collection (hardcode)</description>
        <name>Add_Users_to_Collection</name>
        <label>Add Users to Collection</label>
        <locationX>578</locationX>
        <locationY>2232</locationY>
        <assignmentItems>
            <assignToReference>varUsers</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>005EY000000HgMi</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varUsers</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>005EY000000HgMk</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Notification_New_Template</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Assignation of the varSTask in order to create the &quot;Book in Quickbooks&quot;</description>
        <name>Task_Book_in_Quickbook</name>
        <label>Task - Book in Quickbook</label>
        <locationX>710</locationX>
        <locationY>384</locationY>
        <assignmentItems>
            <assignToReference>varSTask.Subject</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>{!$Record.Name} - Book {!$Record.Addendum_Type__c} in Quickbooks</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varSTask.ActivityDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>for1BDay</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varSTask.WhatId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.AccountId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varSTask.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Label.ID_Task_General_Task</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varSTask.OwnerId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Book_in_Quickbook_User.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varSTask.Description</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>txtDescription</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCTask</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varSTask</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Task_Book_in_Quicbook</targetReference>
        </connector>
    </assignments>
    <customErrors>
        <name>Copy_1_of_String_to_long</name>
        <label>String to long</label>
        <locationX>314</locationX>
        <locationY>3348</locationY>
        <customErrorMessages>
            <errorMessage>The name of the Opportunity is too long and causing an error when naming the Service, please shorten the Opportunity or the Account Name to continue.</errorMessage>
            <isFieldError>false</isFieldError>
        </customErrorMessages>
    </customErrors>
    <customErrors>
        <name>String_to_long</name>
        <label>String to long</label>
        <locationX>842</locationX>
        <locationY>3348</locationY>
        <customErrorMessages>
            <errorMessage>The name of the Opportunity is too long and causing an error when naming the Service, please shorten the Opportunity or the Account Name to continue.</errorMessage>
            <isFieldError>false</isFieldError>
        </customErrorMessages>
    </customErrors>
    <decisions>
        <name>Addendum_type</name>
        <label>Addendum type</label>
        <locationX>2250</locationX>
        <locationY>384</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Cancellation</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Addendum_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cancellation</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Each_service_cancellation</targetReference>
            </connector>
            <label>Cancellation</label>
        </rules>
        <rules>
            <name>Extension</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Addendum_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Extension</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Billing_notification_Addendum_closed_won_Extension</targetReference>
            </connector>
            <label>Extension</label>
        </rules>
        <rules>
            <name>Upgrade</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Addendum_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Upgrade</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Contract</targetReference>
            </connector>
            <label>Upgrade</label>
        </rules>
        <rules>
            <name>Downgrade</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Addendum_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Downgrade</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Update_Contract</targetReference>
            </connector>
            <label>Downgrade</label>
        </rules>
    </decisions>
    <decisions>
        <name>Amount_of_characters</name>
        <label>Amount of characters</label>
        <locationX>974</locationX>
        <locationY>3240</locationY>
        <defaultConnector>
            <targetReference>New_Service_RT_Design_Change</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>More_than_80</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>forNumCharacters</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>80.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>String_to_long</targetReference>
            </connector>
            <label>More than 80</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_if_Renewal_Data_should_be_updated</name>
        <label>Check if Renewal Date should be updated</label>
        <locationX>710</locationX>
        <locationY>1200</locationY>
        <defaultConnector>
            <targetReference>Review_Website_Service</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Update_Renewal_Date</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Is_Renewal_Addeddum__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Yes</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Override_Subscription_Renewal_Date__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Yes</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Renewal_Date_in_Contract</targetReference>
            </connector>
            <label>Update Renewal Date</label>
        </rules>
    </decisions>
    <decisions>
        <name>Copy_2_of_Amount_of_characters</name>
        <label>Amount of characters</label>
        <locationX>446</locationX>
        <locationY>3240</locationY>
        <defaultConnector>
            <targetReference>New_Service_RT_Design_Refresh</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Copy_2_of_More_than_80</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>forNumCharacters</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>80.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_String_to_long</targetReference>
            </connector>
            <label>More than 80</label>
        </rules>
    </decisions>
    <decisions>
        <name>ExtensionType</name>
        <label>Extension?</label>
        <locationX>710</locationX>
        <locationY>600</locationY>
        <defaultConnector>
            <targetReference>Loss_reason</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Not_Extension</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Addendum_Type__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Extension</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Account</targetReference>
            </connector>
            <label>Not Extension</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_In_App_Onboarding</name>
        <label>Is In App Onboarding?</label>
        <locationX>512</locationX>
        <locationY>2640</locationY>
        <defaultConnector>
            <targetReference>Update_service_to_new</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>It_s_IAO</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Service_originated_from__r.RecordType.Name</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>In-App Onboarding</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Service_to_Modules_Complete</targetReference>
            </connector>
            <label>It&#39;s IAO</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_template_change1</name>
        <label>Is template change?</label>
        <locationX>710</locationX>
        <locationY>1908</locationY>
        <defaultConnector>
            <targetReference>Template_change</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>New_template_field_not_null</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.New_template__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Service_originated_from__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Service_Template_change</targetReference>
            </connector>
            <label>New template field not null</label>
        </rules>
    </decisions>
    <decisions>
        <name>Loss_reason</name>
        <label>Loss reason</label>
        <locationX>710</locationX>
        <locationY>900</locationY>
        <defaultConnector>
            <targetReference>Check_if_Renewal_Data_should_be_updated</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>NotSaved</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Loss_Reason__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Saved</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Root_Cause__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Saved</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Addendum_Type__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Extension</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Billing_notification_Addendum_closed_won</targetReference>
            </connector>
            <label>Not Saved</label>
        </rules>
    </decisions>
    <decisions>
        <name>Service_Status</name>
        <label>Service Status</label>
        <locationX>710</locationX>
        <locationY>3132</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>NOT_Website_Launched_or_Cancelled</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Service_originated_from__r.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Service_originated_from__r.Status__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Website Launched</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Service_originated_from__r.Template_Change__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Service_Status_Website_Draft</targetReference>
            </connector>
            <label>NOT Website Launched or Cancelled</label>
        </rules>
        <rules>
            <name>Design_Refresh</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Service_originated_from__r.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Design_Refresh_Buton__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Service_originated_from__r.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Website Launched</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_2_of_Amount_of_characters</targetReference>
            </connector>
            <label>Design Refresh</label>
        </rules>
        <rules>
            <name>Website_Launched</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Service_originated_from__r.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Service_originated_from__r.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Website Launched</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Amount_of_characters</targetReference>
            </connector>
            <label>Website Launched</label>
        </rules>
    </decisions>
    <decisions>
        <name>Template_change</name>
        <label>Template change and service status</label>
        <locationX>710</locationX>
        <locationY>2532</locationY>
        <defaultConnector>
            <targetReference>Closed_Won_Addendum_Record_Type</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Is_template_change</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Service_originated_from__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Service_originated_from__r.Status__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Website Launched</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Service_originated_from__r.Status__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Cancelled</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.New_template__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_In_App_Onboarding</targetReference>
            </connector>
            <label>Is template change and status not Website Launched</label>
        </rules>
    </decisions>
    <decisions>
        <name>Update_CSM1</name>
        <label>Update CSM?</label>
        <locationX>710</locationX>
        <locationY>1608</locationY>
        <defaultConnector>
            <targetReference>Is_template_change1</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Growth_Premium_Leads_SEO_SEO_Pro</name>
            <conditionLogic>(1 OR 2 OR 3 OR 4) AND 5 AND 6 AND 7</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Tier_Plan__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Growth+</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Tier_Plan__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Premium+</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Tier_Plan__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Leads Pro</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Tier_Plan__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>SEO Pro</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Addendum_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Upgrade</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Account.Account_Manager__r.Id</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Label.ID_Support</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Review_Website_Service.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_CSM_Almira</targetReference>
            </connector>
            <label>Growth+, Premium+, Leads SEO, SEO Pro</label>
        </rules>
    </decisions>
    <description>Removing the &quot;Billing Start Date&quot; field reference and implementing the Addendum Effective Date enhancement.</description>
    <environments>Default</environments>
    <formulas>
        <description>Calculates the new contract renewal date by adding the contract term (in months) to the subscription extension start date.</description>
        <name>fCalculateExtensionRenewalDate</name>
        <dataType>Date</dataType>
        <expression>DATE(
    YEAR({!$Record.Subscription_Extension_Date__c}) + FLOOR((MONTH({!$Record.Subscription_Extension_Date__c}) + {!Get_Subscription.ContractTerm} - 1) / 12),
    MOD(MONTH({!$Record.Subscription_Extension_Date__c}) + {!Get_Subscription.ContractTerm} - 1, 12) + 1,
    DAY({!$Record.Subscription_Extension_Date__c})
)</expression>
    </formulas>
    <formulas>
        <description>Add 1 business day</description>
        <name>for1BDay</name>
        <dataType>Date</dataType>
        <expression>CASE(
  MOD({!$Flow.CurrentDate} - DATE( 1900, 1, 7 ), 7 ),
  5, {!$Flow.CurrentDate} + 3,
  6, {!$Flow.CurrentDate} + 2,
  {!$Flow.CurrentDate} + 1
)</expression>
    </formulas>
    <formulas>
        <name>forDueDate</name>
        <dataType>Date</dataType>
        <expression>{!$Flow.CurrentDate} + 3</expression>
    </formulas>
    <formulas>
        <description>Evaluete the amount of characters in the name of the service</description>
        <name>forNumCharacters</name>
        <dataType>Number</dataType>
        <expression>LEN({!forSName})</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>forSName</name>
        <dataType>String</dataType>
        <expression>{!$Record.Account.Name} + &quot; - Design Change&quot;</expression>
    </formulas>
    <formulas>
        <name>forSubject</name>
        <dataType>String</dataType>
        <expression>{!$Record.Account.Name} + &quot; - &quot; + TEXT({!$Record.Addendum_Execution_Date__c}) + &quot; - &quot; + TEXT({!$Record.Addendum_Type__c})</expression>
    </formulas>
    <formulas>
        <name>forSubjectClosedWon</name>
        <dataType>String</dataType>
        <expression>{!$Record.Account.Name} + &quot; - &quot; + TEXT({!$Record.Addendum_Type__c}) + &quot; - &quot; + TEXT({!$Record.Addendum_Execution_Date__c})</expression>
    </formulas>
    <formulas>
        <name>forTierPlan</name>
        <dataType>String</dataType>
        <expression>IF(
ISPICKVAL({!$Record.Tier_Plan__c},&quot;&quot;), TEXT({!$Record.Account.Tier_Plan__c}),
TEXT({!$Record.Tier_Plan__c})
)</expression>
    </formulas>
    <formulas>
        <name>fRenewalDate</name>
        <dataType>Date</dataType>
        <expression>ADDMONTHS({!$Record.Addendum_Execution_Date__c},VALUE(TEXT({!$Record.Contract_Term_Months__c})))</expression>
    </formulas>
    <interviewLabel>Opp addendum closed won {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Opp addendum closed won</label>
    <loops>
        <name>Each_service_cancellation</name>
        <label>Each service cancellation</label>
        <locationX>1722</locationX>
        <locationY>492</locationY>
        <collectionReference>Services</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Cancellation_alert_service_owners</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_Account</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <description>Create all task added to the Task collection</description>
        <name>Create_Task_Book_in_Quicbook</name>
        <label>Create Task - Book in Quicbook</label>
        <locationX>710</locationX>
        <locationY>492</locationY>
        <connector>
            <targetReference>ExtensionType</targetReference>
        </connector>
        <inputReference>varCTask</inputReference>
    </recordCreates>
    <recordCreates>
        <name>New_Service_RT_Design_Change</name>
        <label>New Service RT Design Change</label>
        <locationX>1106</locationX>
        <locationY>3348</locationY>
        <inputAssignments>
            <field>Account__c</field>
            <value>
                <elementReference>$Record.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MLS_Status__c</field>
            <value>
                <stringValue>Get Paperwork Started</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>forSName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <stringValue>005EY000000Hg5JYAS</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <stringValue>0125f000000VvKAAA0</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>New</stringValue>
            </value>
        </inputAssignments>
        <object>Service__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>New_Service_RT_Design_Refresh</name>
        <label>New Service RT Design Refresh</label>
        <locationX>578</locationX>
        <locationY>3348</locationY>
        <inputAssignments>
            <field>Account__c</field>
            <value>
                <elementReference>$Record.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Due_Date__c</field>
            <value>
                <elementReference>forDueDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MLS_Status__c</field>
            <value>
                <stringValue>Get Paperwork Started</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>forSName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <stringValue>005EY000000Hg5JYAS</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>$Label.ID_Service_Design_Refresh</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>New</stringValue>
            </value>
        </inputAssignments>
        <object>Service__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordLookups>
        <description>Get user, in order to assigned the Book tasks</description>
        <name>Book_in_Quickbook_User</name>
        <label>Book in Quickbook - User</label>
        <locationX>710</locationX>
        <locationY>276</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Task_Book_in_Quickbook</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Book_New_Sale_in_Quickbooks__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>User</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Subscription</name>
        <label>Get Subscription</label>
        <locationX>1986</locationX>
        <locationY>708</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Update_Contract_Renewal_Date</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.ContractId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Contract</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>In-App, Custom Website, Website Implementation</description>
        <name>Review_Website_Service</name>
        <label>Review Website Service</label>
        <locationX>710</locationX>
        <locationY>1500</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Update_CSM1</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Website Launched</stringValue>
            </value>
        </filters>
        <filters>
            <field>Contract__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.ContractId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Record_Type_Name__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Property Website</stringValue>
            </value>
        </filters>
        <filters>
            <field>Record_Type_Name__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Design Refresh</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Service__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Get the service where the addendum was originated from</description>
        <name>Service_Originated_from</name>
        <label>Service - Originated from</label>
        <locationX>578</locationX>
        <locationY>2124</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Add_Users_to_Collection</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Service_originated_from__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Service__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Services</name>
        <label>Services</label>
        <locationX>2250</locationX>
        <locationY>276</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Addendum_type</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Contract__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.ContractId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Service__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Account</name>
        <label>Account</label>
        <locationX>578</locationX>
        <locationY>708</locationY>
        <connector>
            <targetReference>Loss_reason</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.AccountId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Monthly_Marketing_Fee1__c</field>
            <value>
                <elementReference>$Record.Monthly_Marketing_Fee__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Monthly_Subscription_Fee1__c</field>
            <value>
                <elementReference>$Record.Monthly_Subscription_Fee__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Retention__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Tier_Plan__c</field>
            <value>
                <elementReference>forTierPlan</elementReference>
            </value>
        </inputAssignments>
        <object>Account</object>
    </recordUpdates>
    <recordUpdates>
        <name>Closed_Won_Addendum_Record_Type</name>
        <label>Closed Won Addendum - Record Type</label>
        <locationX>710</locationX>
        <locationY>3024</locationY>
        <connector>
            <targetReference>Service_Status</targetReference>
        </connector>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>$Label.ID_Opportunity_Closed_Won_Addnedum</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Copy_1_of_Update_Contract</name>
        <label>Update - Contract</label>
        <locationX>2514</locationX>
        <locationY>492</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.ContractId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Billing_Frequency__c</field>
            <value>
                <elementReference>$Record.Subscription_Fee_Payment_Term__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Monthly_Marketing_Fee__c</field>
            <value>
                <elementReference>$Record.Monthly_Marketing_Fee__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Monthly_Subscription_Fee__c</field>
            <value>
                <elementReference>$Record.Monthly_Subscription_Fee__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Tier_Plan__c</field>
            <value>
                <elementReference>$Record.Tier_Plan__c</elementReference>
            </value>
        </inputAssignments>
        <object>Contract</object>
    </recordUpdates>
    <recordUpdates>
        <description>Updates lifecycle to Cancelled</description>
        <name>Update_Account</name>
        <label>Update - Account</label>
        <locationX>1722</locationX>
        <locationY>792</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.AccountId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Lifecycle_Stage__c</field>
            <value>
                <stringValue>Cancelled</stringValue>
            </value>
        </inputAssignments>
        <object>Account</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Contract</name>
        <label>Update - Contract</label>
        <locationX>2250</locationX>
        <locationY>492</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.ContractId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Billing_Frequency__c</field>
            <value>
                <elementReference>$Record.Subscription_Fee_Payment_Term__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Monthly_Marketing_Fee__c</field>
            <value>
                <elementReference>$Record.Monthly_Marketing_Fee__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Monthly_Subscription_Fee__c</field>
            <value>
                <elementReference>$Record.Monthly_Subscription_Fee__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Paid_Media_Service__c</field>
            <value>
                <elementReference>$Record.Paid_Media_Service__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Product_AI_Lead_Nurturing__c</field>
            <value>
                <elementReference>$Record.Product_AI_Lead_Nurturing__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Tier_Plan__c</field>
            <value>
                <elementReference>$Record.Tier_Plan__c</elementReference>
            </value>
        </inputAssignments>
        <object>Contract</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Contract_Renewal_Date</name>
        <label>Update Contract Renewal Date</label>
        <locationX>1986</locationX>
        <locationY>816</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.ContractId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Contract_Renewal_Date_1__c</field>
            <value>
                <elementReference>fCalculateExtensionRenewalDate</elementReference>
            </value>
        </inputAssignments>
        <object>Contract</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_CSM_Almira</name>
        <label>Update CSM - Almira</label>
        <locationX>578</locationX>
        <locationY>1716</locationY>
        <connector>
            <targetReference>Is_template_change1</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.AccountId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Account_Manager__c</field>
            <value>
                <elementReference>$Label.ID_Almira_Grace</elementReference>
            </value>
        </inputAssignments>
        <object>Account</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Renewal_Date_in_Contract</name>
        <label>Update Renewal Date in Subscription</label>
        <locationX>578</locationX>
        <locationY>1308</locationY>
        <connector>
            <targetReference>Review_Website_Service</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.ContractId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Contract_Renewal_Date_1__c</field>
            <value>
                <elementReference>fRenewalDate</elementReference>
            </value>
        </inputAssignments>
        <object>Contract</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Service_Status_Website_Draft</name>
        <label>Update Service Status - Website Draft</label>
        <locationX>50</locationX>
        <locationY>3240</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Service_originated_from__r.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Staging Link</stringValue>
            </value>
        </inputAssignments>
        <object>Service__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Service_Template_change</name>
        <label>Update Service Template change</label>
        <locationX>578</locationX>
        <locationY>2016</locationY>
        <connector>
            <targetReference>Service_Originated_from</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Service_originated_from__c</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>New_Design__c</field>
            <value>
                <elementReference>$Record.New_template__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Template_Change__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <object>Service__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Service_to_Modules_Complete</name>
        <label>Update Service to Modules Complete</label>
        <locationX>380</locationX>
        <locationY>2748</locationY>
        <connector>
            <targetReference>Closed_Won_Addendum_Record_Type</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Service_originated_from__c</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Modules Complete</stringValue>
            </value>
        </inputAssignments>
        <object>Service__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_service_to_new</name>
        <label>Update service to new</label>
        <locationX>644</locationX>
        <locationY>2748</locationY>
        <connector>
            <targetReference>Closed_Won_Addendum_Record_Type</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Service_originated_from__c</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>New</stringValue>
            </value>
        </inputAssignments>
        <object>Service__c</object>
    </recordUpdates>
    <recordUpdates>
        <description>Contract Start Date = &quot;Subscription Extension Date&quot;</description>
        <name>Update_Subscription_Start_Date</name>
        <label>Update Subscription Start Date</label>
        <locationX>1986</locationX>
        <locationY>600</locationY>
        <connector>
            <targetReference>Get_Subscription</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.ContractId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Paid_Media_Service__c</field>
            <value>
                <elementReference>$Record.Paid_Media_Service__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>StartDate</field>
            <value>
                <elementReference>$Record.Subscription_Extension_Date__c</elementReference>
            </value>
        </inputAssignments>
        <object>Contract</object>
    </recordUpdates>
    <start>
        <locationX>1354</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Book_in_Quickbook_User</targetReference>
        </connector>
        <doesRequireRecordChangedToMeetCriteria>true</doesRequireRecordChangedToMeetCriteria>
        <filterLogic>1 AND 2 AND (3 OR 4)</filterLogic>
        <filters>
            <field>StageName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Closed Won</stringValue>
            </value>
        </filters>
        <filters>
            <field>Addendum_Type__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Saved</stringValue>
            </value>
        </filters>
        <filters>
            <field>Record_Type_Name__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Addendum</stringValue>
            </value>
        </filters>
        <filters>
            <field>Record_Type_Name__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Closed Won - Addendum</stringValue>
            </value>
        </filters>
        <object>Opportunity</object>
        <recordTriggerType>Update</recordTriggerType>
        <scheduledPaths>
            <name>Addendum_Effective_Date</name>
            <connector>
                <targetReference>Services</targetReference>
            </connector>
            <label>Addendum Effective Date</label>
            <offsetNumber>1</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>Addendum_Execution_Date__c</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <textTemplates>
        <name>bodyActivationDate</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>Hi team! 
The paused period for client {!$Record.Account.Name} will finish in  {!$Record.Service_Activation__c}. Please take the necessary precautions to continue their services. 
Link : https://luxurypresence.lightning.force.com/{!470b7643-7d17-4b96-a065-2a37e01cfb19.Id}</text>
    </textTemplates>
    <textTemplates>
        <name>bodyAddendumClosedWon</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>Hi team!
The client {!$Record.Account.Name} has closed won the addendum {!$Record.Name}, with effective date: {!$Record.Addendum_Execution_Date__c}
Link: https://luxurypresence.lightning.force.com/{!$Record.Id}</text>
    </textTemplates>
    <textTemplates>
        <name>bodyAddendumCloseWonExtension</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>Hi team!
The client {!$Record.Account.Name} has closed won the addendum {!$Record.Name}, with effective date: {!$Record.Addendum_Execution_Date__c}. And a new extension date of: {!$Record.Subscription_Extension_Date__c}
Link: https://luxurypresence.lightning.force.com/{!$Record.Id}</text>
    </textTemplates>
    <textTemplates>
        <name>bodyCancellationEmail</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>Hi team! 
The client {!$Record.Account.Name} has cancelled their services with addendum execution date:{!$Record.Addendum_Execution_Date__c}
Link: https://luxurypresence.lightning.force.com/{!$Record.Id} please continue all services until execution</text>
    </textTemplates>
    <textTemplates>
        <name>bodyPauseEmail</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>Hi team! 
The service {!0bdf4d6e-3e82-44a7-a7e5-8d101e9fce71.Name} have been paused for client {!$Record.Account.Name} with service Activation Date:{!$Record.Service_Activation__c}, Execution Date:{!$Record.Addendum_Execution_Date__c}.

Link: https://luxurypresence.lightning.force.com/{!$Record.Id}</text>
    </textTemplates>
    <textTemplates>
        <name>bodyPauseEmailBilling</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>Hi team! 
Services have been paused for client {!$Record.Account.Name} with service Activation date:{!$Record.Service_Activation__c}, Execution date:{!$Record.Addendum_Execution_Date__c}
Addendum link: https://luxurypresence.lightning.force.com/{!$Record.Id}
Services: {!varAllServices}</text>
    </textTemplates>
    <textTemplates>
        <description>Used in the creation of the tasks</description>
        <name>txtDescription</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>&lt;p&gt;Opportunity link: https://luxurypresence.lightning.force.com/{!$Record.Id}&lt;/p&gt;</text>
    </textTemplates>
    <triggerOrder>650</triggerOrder>
    <variables>
        <name>collectionService</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Service__c</objectType>
    </variables>
    <variables>
        <name>varAllServices</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varCTask</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Task</objectType>
    </variables>
    <variables>
        <name>varServiceOwnerEmail</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varSTask</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Task</objectType>
    </variables>
    <variables>
        <description>Stores Users ids</description>
        <name>varUsers</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
